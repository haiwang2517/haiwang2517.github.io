(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{491:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",[s._v("最近AI画图工具很火爆网上一大堆介绍的，就跟潮流研究部署到本地感受感受。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/StableDiffusion/result.png",alt:"result"}})]),s._v(" "),t("blockquote",[t("p",[s._v("github 地址:"),t("a",{attrs:{href:"https://github.com/AUTOMATIC1111/stable-diffusion-webui",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/AUTOMATIC1111/stable-diffusion-webui"),t("OutboundLink")],1),t("br"),s._v("\nhuggingface: "),t("a",{attrs:{href:"https://huggingface.co/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://huggingface.co/"),t("OutboundLink")],1),t("br"),s._v("\ncivitai: "),t("a",{attrs:{href:"https://civitai.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://civitai.com/"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"在线安装步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在线安装步骤"}},[s._v("#")]),s._v(" 在线安装步骤")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://colab.research.google.com/drive/1yhV28McEQgkjfkBjzZG3IVA3mjUqtz1s?usp=share_link",target:"_blank",rel:"noopener noreferrer"}},[s._v("基于google colab 配置环境"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"本地安装步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地安装步骤"}},[s._v("#")]),s._v(" 本地安装步骤")]),s._v(" "),t("h3",{attrs:{id:"_1-环境准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-环境准备"}},[s._v("#")]),s._v(" 1. 环境准备")]),s._v(" "),t("ul",[t("li",[s._v("python3: Python 3.10.7")]),s._v(" "),t("li",[s._v("git:  2.36.1")])]),s._v(" "),t("p",[t("strong",[s._v("python 配置")]),s._v("\n切换国内源")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pip config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global.index-url http://mirrors.cloud.tencent.com/pypi/simple\npip config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global.trusted-host mirrors.cloud.tencent.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("常用国内源\npypi 清华大学源：https://pypi.tuna.tsinghua.edu.cn/simple\npypi 豆瓣源 ：http://pypi.douban.com/simple/\npypi 腾讯源：http://mirrors.cloud.tencent.com/pypi/simple\npypi 阿里源：https://mirrors.aliyun.com/pypi\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"_2-下载stable-diffusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载stable-diffusion"}},[s._v("#")]),s._v(" 2. 下载stable diffusion")]),s._v(" "),t("p",[s._v("本地指定文件夹下载git代码")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/AUTOMATIC1111/stable-diffusion-webui\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" stable-diffusion-webui\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_3-本地配置stable-diffusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-本地配置stable-diffusion"}},[s._v("#")]),s._v(" 3. 本地配置stable diffusion")]),s._v(" "),t("h4",{attrs:{id:"webui-user-bat配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webui-user-bat配置"}},[s._v("#")]),s._v(" "),t("strong",[s._v("webui-user.bat配置")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("@echo off\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定python路径")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PYTHON")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\Python310\\python.exe"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定git路径,不需要配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GIT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VENV_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置启动参数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("COMMANDLINE_ARGS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" --precision full --no-half --skip-torch-cuda-test --xformers\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动程序")]),s._v("\ncall webui.bat\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h4",{attrs:{id:"属性说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#属性说明"}},[s._v("#")]),s._v(" "),t("strong",[s._v("属性说明")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("skip-torch-cuda-test:")]),s._v(" 针对没有显卡的电脑,跳过环境检测")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法1 通过代码查看所有参数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" modules/cmd_args.py\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"launch-py配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#launch-py配置"}},[s._v("#")]),s._v(" "),t("strong",[s._v("launch.py配置")])]),s._v(" "),t("p",[t("strong",[s._v("去除cu117安装")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("torch_command "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" os.environ.get"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'TORCH_COMMAND'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pip install torch==1.13.1+cu117 torchvision==0.14.1+cu117 --extra-index-url https://download.pytorch.org/whl/cu117"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n改为\ntorch_command "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" os.environ.get"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'TORCH_COMMAND'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pip install torch==1.13.1 torchvision==0.14.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("替换github地址")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("https://github.com/ 开通的连接 替换为  https://ghproxy.com/https://github.com/ \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("具体改动项")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/StableDiffusion/ghproxy.jpg",alt:"ghproxy"}})]),s._v(" "),t("h3",{attrs:{id:"_4-启动stable-diffusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动stable-diffusion"}},[s._v("#")]),s._v(" 4. 启动stable diffusion")]),s._v(" "),t("p",[s._v("执行打开"),t("code",[s._v("webui-user.bat")]),s._v(" 脚本文件.")]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/StableDiffusion/start.jpg",alt:"start"}})]),s._v(" "),t("h2",{attrs:{id:"遇到的异常情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#遇到的异常情况"}},[s._v("#")]),s._v(" 遇到的异常情况")]),s._v(" "),t("ul",[t("li",[s._v("git 提示 ssl")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config http.sslVerify "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"false"')]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("启动异常时,删除再启动")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果有异常删除 venv 文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf venv\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"高级用法-扩展插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级用法-扩展插件"}},[s._v("#")]),s._v(" 高级用法(扩展插件)")]),s._v(" "),t("h3",{attrs:{id:"_1-扩展插件地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-扩展插件地址"}},[s._v("#")]),s._v(" 1. 扩展插件地址:")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://raw.githubusercontent.com/wiki/AUTOMATIC1111/stable-diffusion-webui/Extensions-index.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://raw.githubusercontent.com/wiki/AUTOMATIC1111/stable-diffusion-webui/Extensions-index.md"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"_2-nvidia-cuda"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-nvidia-cuda"}},[s._v("#")]),s._v(" 2. Nvidia CUDA:")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://developer.download.nvidia.cn/compute/cuda/11.7.1/local_installers/cuda_11.7.1_516.94_windows.exe",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://developer.download.nvidia.cn/compute/cuda/11.7.1/local_installers/cuda_11.7.1_516.94_windows.exe"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"语音汉化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语音汉化"}},[s._v("#")]),s._v(" 语音汉化")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/VinsonLaro/stable-diffusion-webui-chinese",target:"_blank",rel:"noopener noreferrer"}},[s._v("github汉化地址"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"直接复制翻译好的本地化模板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#直接复制翻译好的本地化模板"}},[s._v("#")]),s._v(" 直接复制翻译好的本地化模板")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在任意目录下使用"),t("code",[s._v("git clone https://github.com/VinsonLaro/stable-diffusion-webui-chinese")])])]),s._v(" "),t("li",[t("p",[s._v('进入下载好的文件夹,把"localizations"文件夹内的"Chinese-All.json"和"Chinese-English.json"复制到"stable-diffusion-webui\\localizations"目录下')])]),s._v(" "),t("li",[t("p",[s._v('点击"Settings"，左侧点击"User interface"界面，在界面里最下方的"Localization (requires restart)"，选择"Chinese-All"或者"Chinese-English"')])]),s._v(" "),t("li",[t("p",[s._v('点击界面最上方的黄色按钮"Apply settings"，再点击右侧的"Reload UI"即可完成汉化')])])]),s._v(" "),t("h2",{attrs:{id:"案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),t("p",[t("strong",[s._v("ProtoGen_X3.4模型参数")])]),s._v(" "),t("p",[t("strong",[s._v("最终效果")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/images/StableDiffusion/result.png",alt:"result"}})]),s._v(" "),t("p",[s._v("提示词:")]),s._v(" "),t("div",{staticClass:"language-plaintext line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("(extremely detailed CG unity 8k wallpaper), full shot body photo of [Emma Stone | emma watson] as princess peach, smiling, nostalgia, fantasy, princess peach clothes, sexy, professional majestic oil painting by Ed Blinkey, Atey Ghailan, Studio Ghibli, by Jeremy Mann, Greg Manchess, Antonio Moro, trending on ArtStation, trending on CGSociety, Intricate, High Detail, Sharp focus, dramatic, by midjourney and greg rutkowski, realism, beautiful and detailed lighting, shadows, by Jeremy Lipking, by Antonio J. Manzanedo, by Frederic Remington, by HW Hansen, by Charles Marion Russell, by William Herbert Dunton, Pin-up, Skater, Otaku, cinematic \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("反提示词:")]),s._v(" "),t("div",{staticClass:"language-plaintext line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Negative prompt: hat, disfigured, kitsch, ugly, oversaturated, grain, low-res, Deformed, blurry, bad anatomy, disfigured, poorly drawn face, mutation, mutated, extra limb, ugly, poorly drawn hands, missing limb, blurry, floating limbs, disconnected limbs, malformed hands, blur, out of focus, long neck, long body, ugly, disgusting, poorly drawn, childish, mutilated,, mangled, old, surreal, text, blurry, b&w, monochrome, conjoined twins, multiple heads, extra legs, extra arms, fashion photos (collage: 1,25), meme,deformed,elongated,twisted,fingers,strabismus,heterochromia,closed eyes,blurred, watermark, wedding,group \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("参数配置:")]),s._v(" "),t("div",{staticClass:"language-plaintext line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Steps: 50, Sampler: DPM++ SDE Karras, CFG scale: 10, Seed: 3816429603, Size: 640x832, Model hash: c88e730a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/images/StableDiffusion/webui.jpg",alt:"webui"}})]),s._v(" "),t("blockquote",[t("p",[s._v("参考来源: https://www.bilibili.com/read/cv22020510/ 、 https://www.bilibili.com/read/cv19102458/")])])])}),[],!1,null,null,null);a.default=n.exports}}]);