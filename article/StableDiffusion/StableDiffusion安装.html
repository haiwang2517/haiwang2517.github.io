<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Stable Diffusion安装 | Hspace Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="每天进步一点点">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.78c5da2f.css" as="style"><link rel="preload" href="/assets/js/app.f38cff4a.js" as="script"><link rel="preload" href="/assets/js/3.e0b1a312.js" as="script"><link rel="preload" href="/assets/js/1.7f0b2800.js" as="script"><link rel="preload" href="/assets/js/11.8d65feb6.js" as="script"><link rel="prefetch" href="/assets/js/10.30e0d2c9.js"><link rel="prefetch" href="/assets/js/12.29f934f1.js"><link rel="prefetch" href="/assets/js/13.85814dd3.js"><link rel="prefetch" href="/assets/js/14.f799ccb1.js"><link rel="prefetch" href="/assets/js/15.a74eba95.js"><link rel="prefetch" href="/assets/js/16.1464ac54.js"><link rel="prefetch" href="/assets/js/17.bdd8c49e.js"><link rel="prefetch" href="/assets/js/18.6b64281d.js"><link rel="prefetch" href="/assets/js/19.53fa92bf.js"><link rel="prefetch" href="/assets/js/20.2af22bee.js"><link rel="prefetch" href="/assets/js/21.52c303ac.js"><link rel="prefetch" href="/assets/js/22.cbe56017.js"><link rel="prefetch" href="/assets/js/23.12ae6597.js"><link rel="prefetch" href="/assets/js/4.0eb3dbb4.js"><link rel="prefetch" href="/assets/js/5.2dda0e53.js"><link rel="prefetch" href="/assets/js/6.60140dd7.js"><link rel="prefetch" href="/assets/js/7.2d06f349.js"><link rel="prefetch" href="/assets/js/8.222011f5.js"><link rel="prefetch" href="/assets/js/9.9d9a9be9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.78c5da2f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Hspace Blog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Ken Hai</span>
            
          <span data-v-64685f0e>2020 - </span>
          2023
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Hspace Blog" class="logo"> <span class="site-name">Hspace Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/工具/" class="nav-link"><i class="iconfont undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/领域驱动/" class="nav-link"><i class="iconfont undefined"></i>
  领域驱动
</a></li><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="iconfont undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/sonar/" class="nav-link"><i class="iconfont undefined"></i>
  sonar
</a></li><li class="dropdown-item"><!----> <a href="/categories/杂项/" class="nav-link"><i class="iconfont undefined"></i>
  杂项
</a></li><li class="dropdown-item"><!----> <a href="/categories/重构/" class="nav-link"><i class="iconfont undefined"></i>
  重构
</a></li><li class="dropdown-item"><!----> <a href="/categories/MySql/" class="nav-link"><i class="iconfont undefined"></i>
  MySql
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="https://github.com/haiwang2517" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-042e23d4><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-042e23d4> <h3 class="name" data-v-042e23d4>
    Ken Hai
  </h3> <div class="num" data-v-042e23d4><div data-v-042e23d4><h3 data-v-042e23d4>13</h3> <h6 data-v-042e23d4>文章</h6></div> <div data-v-042e23d4><h3 data-v-042e23d4>26</h3> <h6 data-v-042e23d4>标签</h6></div></div> <hr data-v-042e23d4></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/工具/" class="nav-link"><i class="iconfont undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/领域驱动/" class="nav-link"><i class="iconfont undefined"></i>
  领域驱动
</a></li><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="iconfont undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/sonar/" class="nav-link"><i class="iconfont undefined"></i>
  sonar
</a></li><li class="dropdown-item"><!----> <a href="/categories/杂项/" class="nav-link"><i class="iconfont undefined"></i>
  杂项
</a></li><li class="dropdown-item"><!----> <a href="/categories/重构/" class="nav-link"><i class="iconfont undefined"></i>
  重构
</a></li><li class="dropdown-item"><!----> <a href="/categories/MySql/" class="nav-link"><i class="iconfont undefined"></i>
  MySql
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="https://github.com/haiwang2517" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Stable Diffusion安装</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#在线安装步骤" class="sidebar-link">在线安装步骤</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#本地安装步骤" class="sidebar-link">本地安装步骤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#_1-环境准备" class="sidebar-link">1. 环境准备</a></li><li class="sidebar-sub-header"><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#_2-下载stable-diffusion" class="sidebar-link">2. 下载stable diffusion</a></li><li class="sidebar-sub-header"><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#_3-本地配置stable-diffusion" class="sidebar-link">3. 本地配置stable diffusion</a></li><li class="sidebar-sub-header"><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#_4-启动stable-diffusion" class="sidebar-link">4. 启动stable diffusion</a></li></ul></li><li><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#遇到的异常情况" class="sidebar-link">遇到的异常情况</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#高级用法-扩展插件" class="sidebar-link">高级用法(扩展插件)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#_1-扩展插件地址" class="sidebar-link">1. 扩展插件地址:</a></li><li class="sidebar-sub-header"><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#_2-nvidia-cuda" class="sidebar-link">2. Nvidia CUDA:</a></li></ul></li><li><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#语音汉化" class="sidebar-link">语音汉化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#直接复制翻译好的本地化模板" class="sidebar-link">直接复制翻译好的本地化模板</a></li></ul></li><li><a href="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html#案例" class="sidebar-link">案例</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Stable Diffusion安装</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Ken Hai</span>
            
          <span data-v-64685f0e>2020 - </span>
          2023
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>Stable Diffusion安装</h1> <hr> <div data-v-34ea29db><i class="iconfont reco-account" data-v-34ea29db><span data-v-34ea29db>Ken Hai</span></i> <i class="iconfont reco-date" data-v-34ea29db><span data-v-34ea29db>2023-04-03 13:00:00</span></i> <i class="iconfont reco-eye" data-v-34ea29db><span id="/article/StableDiffusion/StableDiffusion%E5%AE%89%E8%A3%85.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-34ea29db><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-34ea29db><span class="tag-item" data-v-34ea29db>Stable Diffusion</span><span class="tag-item" data-v-34ea29db>AI</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p>最近AI画图工具很火爆网上一大堆介绍的，就跟潮流研究部署到本地感受感受。</p></div> <p><img src="/images/StableDiffusion/result.png" alt="result"></p> <blockquote><p>github 地址:<a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui" target="_blank" rel="noopener noreferrer">https://github.com/AUTOMATIC1111/stable-diffusion-webui<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
huggingface: <a href="https://huggingface.co/" target="_blank" rel="noopener noreferrer">https://huggingface.co/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
civitai: <a href="https://civitai.com/" target="_blank" rel="noopener noreferrer">https://civitai.com/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="在线安装步骤"><a href="#在线安装步骤" class="header-anchor">#</a> 在线安装步骤</h2> <p><a href="https://colab.research.google.com/drive/1yhV28McEQgkjfkBjzZG3IVA3mjUqtz1s?usp=share_link" target="_blank" rel="noopener noreferrer">基于google colab 配置环境<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="本地安装步骤"><a href="#本地安装步骤" class="header-anchor">#</a> 本地安装步骤</h2> <h3 id="_1-环境准备"><a href="#_1-环境准备" class="header-anchor">#</a> 1. 环境准备</h3> <ul><li>python3: Python 3.10.7</li> <li>git:  2.36.1</li></ul> <p><strong>python 配置</strong>
切换国内源</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>pip config <span class="token builtin class-name">set</span> global.index-url http://mirrors.cloud.tencent.com/pypi/simple
pip config <span class="token builtin class-name">set</span> global.trusted-host mirrors.cloud.tencent.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>常用国内源
pypi 清华大学源：https://pypi.tuna.tsinghua.edu.cn/simple
pypi 豆瓣源 ：http://pypi.douban.com/simple/
pypi 腾讯源：http://mirrors.cloud.tencent.com/pypi/simple
pypi 阿里源：https://mirrors.aliyun.com/pypi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-下载stable-diffusion"><a href="#_2-下载stable-diffusion" class="header-anchor">#</a> 2. 下载stable diffusion</h3> <p>本地指定文件夹下载git代码</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/AUTOMATIC1111/stable-diffusion-webui
<span class="token builtin class-name">cd</span> stable-diffusion-webui
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-本地配置stable-diffusion"><a href="#_3-本地配置stable-diffusion" class="header-anchor">#</a> 3. 本地配置stable diffusion</h3> <h4 id="webui-user-bat配置"><a href="#webui-user-bat配置" class="header-anchor">#</a> <strong>webui-user.bat配置</strong></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>@echo off
<span class="token comment"># 指定python路径</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">PYTHON</span><span class="token operator">=</span><span class="token string">&quot;C:\Python310\python.exe&quot;</span>
<span class="token comment"># 指定git路径,不需要配置</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">GIT</span><span class="token operator">=</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">VENV_DIR</span><span class="token operator">=</span>
<span class="token comment"># 配置启动参数</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">COMMANDLINE_ARGS</span><span class="token operator">=</span> --precision full --no-half --skip-torch-cuda-test --xformers

<span class="token comment"># 启动程序</span>
call webui.bat
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="属性说明"><a href="#属性说明" class="header-anchor">#</a> <strong>属性说明</strong></h4> <ul><li><strong>skip-torch-cuda-test:</strong> 针对没有显卡的电脑,跳过环境检测</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 方法1 通过代码查看所有参数</span>
<span class="token function">cat</span> modules/cmd_args.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="launch-py配置"><a href="#launch-py配置" class="header-anchor">#</a> <strong>launch.py配置</strong></h4> <p><strong>去除cu117安装</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>torch_command <span class="token operator">=</span> os.environ.get<span class="token punctuation">(</span><span class="token string">'TORCH_COMMAND'</span>, <span class="token string">&quot;pip install torch==1.13.1+cu117 torchvision==0.14.1+cu117 --extra-index-url https://download.pytorch.org/whl/cu117&quot;</span><span class="token punctuation">)</span>
改为
torch_command <span class="token operator">=</span> os.environ.get<span class="token punctuation">(</span><span class="token string">'TORCH_COMMAND'</span>, <span class="token string">&quot;pip install torch==1.13.1 torchvision==0.14.1&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>替换github地址</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>https://github.com/ 开通的连接 替换为  https://ghproxy.com/https://github.com/ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>具体改动项</strong></p> <p><img src="/images/StableDiffusion/ghproxy.jpg" alt="ghproxy"></p> <h3 id="_4-启动stable-diffusion"><a href="#_4-启动stable-diffusion" class="header-anchor">#</a> 4. 启动stable diffusion</h3> <p>执行打开<code>webui-user.bat</code> 脚本文件.</p> <p><img src="/images/StableDiffusion/start.jpg" alt="start"></p> <h2 id="遇到的异常情况"><a href="#遇到的异常情况" class="header-anchor">#</a> 遇到的异常情况</h2> <ul><li>git 提示 ssl</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> config http.sslVerify <span class="token string">&quot;false&quot;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>启动异常时,删除再启动</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#如果有异常删除 venv 文件夹</span>
<span class="token function">rm</span> -rf venv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="高级用法-扩展插件"><a href="#高级用法-扩展插件" class="header-anchor">#</a> 高级用法(扩展插件)</h2> <h3 id="_1-扩展插件地址"><a href="#_1-扩展插件地址" class="header-anchor">#</a> 1. 扩展插件地址:</h3> <p><a href="https://raw.githubusercontent.com/wiki/AUTOMATIC1111/stable-diffusion-webui/Extensions-index.md" target="_blank" rel="noopener noreferrer">https://raw.githubusercontent.com/wiki/AUTOMATIC1111/stable-diffusion-webui/Extensions-index.md<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_2-nvidia-cuda"><a href="#_2-nvidia-cuda" class="header-anchor">#</a> 2. Nvidia CUDA:</h3> <p><a href="https://developer.download.nvidia.cn/compute/cuda/11.7.1/local_installers/cuda_11.7.1_516.94_windows.exe" target="_blank" rel="noopener noreferrer">https://developer.download.nvidia.cn/compute/cuda/11.7.1/local_installers/cuda_11.7.1_516.94_windows.exe<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="语音汉化"><a href="#语音汉化" class="header-anchor">#</a> 语音汉化</h2> <p><a href="https://github.com/VinsonLaro/stable-diffusion-webui-chinese" target="_blank" rel="noopener noreferrer">github汉化地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="直接复制翻译好的本地化模板"><a href="#直接复制翻译好的本地化模板" class="header-anchor">#</a> 直接复制翻译好的本地化模板</h3> <ol><li><p>在任意目录下使用<code>git clone https://github.com/VinsonLaro/stable-diffusion-webui-chinese</code></p></li> <li><p>进入下载好的文件夹,把&quot;localizations&quot;文件夹内的&quot;Chinese-All.json&quot;和&quot;Chinese-English.json&quot;复制到&quot;stable-diffusion-webui\localizations&quot;目录下</p></li> <li><p>点击&quot;Settings&quot;，左侧点击&quot;User interface&quot;界面，在界面里最下方的&quot;Localization (requires restart)&quot;，选择&quot;Chinese-All&quot;或者&quot;Chinese-English&quot;</p></li> <li><p>点击界面最上方的黄色按钮&quot;Apply settings&quot;，再点击右侧的&quot;Reload UI&quot;即可完成汉化</p></li></ol> <h2 id="案例"><a href="#案例" class="header-anchor">#</a> 案例</h2> <p><strong>ProtoGen_X3.4模型参数</strong></p> <p><strong>最终效果</strong></p> <p><img src="/images/StableDiffusion/result.png" alt="result"></p> <p>提示词:</p> <div class="language-plaintext line-numbers-mode"><pre class="language-text"><code>(extremely detailed CG unity 8k wallpaper), full shot body photo of [Emma Stone | emma watson] as princess peach, smiling, nostalgia, fantasy, princess peach clothes, sexy, professional majestic oil painting by Ed Blinkey, Atey Ghailan, Studio Ghibli, by Jeremy Mann, Greg Manchess, Antonio Moro, trending on ArtStation, trending on CGSociety, Intricate, High Detail, Sharp focus, dramatic, by midjourney and greg rutkowski, realism, beautiful and detailed lighting, shadows, by Jeremy Lipking, by Antonio J. Manzanedo, by Frederic Remington, by HW Hansen, by Charles Marion Russell, by William Herbert Dunton, Pin-up, Skater, Otaku, cinematic 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>反提示词:</p> <div class="language-plaintext line-numbers-mode"><pre class="language-text"><code>Negative prompt: hat, disfigured, kitsch, ugly, oversaturated, grain, low-res, Deformed, blurry, bad anatomy, disfigured, poorly drawn face, mutation, mutated, extra limb, ugly, poorly drawn hands, missing limb, blurry, floating limbs, disconnected limbs, malformed hands, blur, out of focus, long neck, long body, ugly, disgusting, poorly drawn, childish, mutilated,, mangled, old, surreal, text, blurry, b&amp;w, monochrome, conjoined twins, multiple heads, extra legs, extra arms, fashion photos (collage: 1,25), meme,deformed,elongated,twisted,fingers,strabismus,heterochromia,closed eyes,blurred, watermark, wedding,group 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数配置:</p> <div class="language-plaintext line-numbers-mode"><pre class="language-text"><code>Steps: 50, Sampler: DPM++ SDE Karras, CFG scale: 10, Seed: 3816429603, Size: 640x832, Model hash: c88e730a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/images/StableDiffusion/webui.jpg" alt="webui"></p> <blockquote><p>参考来源: https://www.bilibili.com/read/cv22020510/ 、 https://www.bilibili.com/read/cv19102458/</p></blockquote></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/4/21 09:09:10</span></div></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div></div></div>
    <script src="/assets/js/app.f38cff4a.js" defer></script><script src="/assets/js/3.e0b1a312.js" defer></script><script src="/assets/js/1.7f0b2800.js" defer></script><script src="/assets/js/11.8d65feb6.js" defer></script>
  </body>
</html>
